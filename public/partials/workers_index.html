<div class="container">
    <div class="row">
        <ol class="breadcrumb">
            <li><a href="#/dashboard">Home</a></li>
            <li class="active">Workers</li>
            <li class="active">Index</li>
        </ol>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-md-2">
                    <h5>Workers Index</h5>
                </div>
                <div class="col-md-3 col-md-offset-7">
                    <div class="input-group input-group-sm">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </span>
                        <input type="text" class="form-control" ng-change="searching()" ng-model="search">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button" ng-click="clearSearch()">
                                <span class="glyphicon glyphicon-remove"></span>
                            </button>
                        </span>

                    </div>
                </div>
            </div>
        </div>
        <div class="panel-body">
            <table class="table">
                <thead>
                <tr>
                    <th ng-click="order('first_name')">
                        <span class="glyphicon" ng-show="predicate === 'first_name'" ng-class="{'glyphicon-chevron-down':reverse, 'glyphicon-chevron-up':(!reverse)}"></span>
                        First Name
                    </th>
                    <th ng-click="order('last_name')">
                        <span class="glyphicon" ng-show="predicate === 'last_name'" ng-class="{'glyphicon-chevron-down':reverse, 'glyphicon-chevron-up':(!reverse)}"></span>
                        Last Name
                    </th>
                    <th ng-click="order('father_name')">
                        <span class="glyphicon" ng-show="predicate === 'father_name'" ng-class="{'glyphicon-chevron-down':reverse, 'glyphicon-chevron-up':(!reverse)}"></span>
                        Father's Name
                    </th>
                    <th ng-click="order('phone')">
                        <span class="glyphicon" ng-show="predicate === 'phone'" ng-class="{'glyphicon-chevron-down':reverse, 'glyphicon-chevron-up':(!reverse)}"></span>
                        Phone
                    </th>
                    <th ng-click="order('mobile_phone')">
                        <span class="glyphicon" ng-show="predicate === 'mobile_phone'" ng-class="{'glyphicon-chevron-down':reverse, 'glyphicon-chevron-up':(!reverse)}"></span>
                        Cell Phone
                    </th>
                    <th>
                        Actions
                    </th>
                </tr>
                </thead>
                <tr ng-repeat="worker in workers | orderBy: predicate : reverse | limitTo: itemsPerPage : begin | filter: search">
                    <td>{{worker.first_name}}</td>
                    <td>{{worker.last_name}}</td>
                    <td>{{worker.father_name}}</td>
                    <td>{{worker.phone}}</td>
                    <td>{{worker.mobile_phone}}</td>
                    <td>
                        <button type="button" class="btn btn-default" aria-label="Edit Worker" ng-click="editWorker(worker)" data-toggle="modal" data-target="#editWorker">
                            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                        </button>
                        <button type="button" class="btn btn-default" aria-label="Delete Worker">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
            </table>
        </div>
        <div class="panel-footer">
            <div class="row">
                <div class="col-md-4 col-md-offset-8" ng-show="showPagination">
                    <uib-pagination
                            total-items="workers.length"
                            ng-model="currentPage"
                            max-size="maxSize"
                            class="pagination-sm"
                            boundary-links="boundaryLinks"
                            force-ellipses="forceEclipses"
                            rotate="rotate"
                            num-pages="numPages"
                            previous-text="&lsaquo;"
                            next-text="&rsaquo;"
                            first-text="&laquo;"
                            last-text="&raquo;"
                            ng-click="setPage()">
                    </uib-pagination>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Edit User Modal -->
<div class="modal fade" id="editWorker" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Update {{entry.first_name}} {{entry.last_name}}</h4>
            </div>
            <div class="modal-body">
                <form>
                    <input ng-model="entry.first_name">
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" ng-click="saveWorker()">Save changes</button>
            </div>
        </div>
    </div>
</div>